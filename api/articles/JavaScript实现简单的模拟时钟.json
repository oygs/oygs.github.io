{"title":"JavaScript实现简单的模拟时钟","uid":"f406e834f117c12fc6b8a0a2763ae2dd","slug":"JavaScript实现简单的模拟时钟","date":"2021-10-04T10:08:00.000Z","updated":"2021-12-17T10:10:29.000Z","comments":true,"path":"api/articles/JavaScript实现简单的模拟时钟.json","keywords":null,"cover":"https://s4.ax1x.com/2022/01/18/70qIXj.jpg","content":"<p>如何使用<strong>HTML、CSS</strong>和<strong>JavaScript</strong>代码制作模拟时钟<br>这一款的形状采用黑色新拟物风格设计。用三个指针来表示小时、分钟和秒。此时钟盘面使用了符号而不是<strong>1</strong>到<strong>12</strong>的数字。</p>\n<span id=\"more\"></span>\n\n\n<p>在我使用了新拟物风格设计制作之后，时钟的背景和页面的背景我也使用了相同的颜色。首先，我在网页上制作一个<code>30rem</code>宽和<code>30rem</code>高的盒子。<code>border-radius: 50%</code>用于环绕此框。我在这里使用了<code>box-shadow</code>来实现新拟物风格设计。</p>\n<p><img src=\"https://z3.ax1x.com/2021/08/22/fzyFWd.gif\"></p>\n<h3 id=\"第1步：设计和创建时钟的基本结构\"><a href=\"#第1步：设计和创建时钟的基本结构\" class=\"headerlink\" title=\"第1步：设计和创建时钟的基本结构\"></a>第1步：设计和创建时钟的基本结构</h3><p>我使用以下<strong>HTML</strong>和<strong>CSS</strong>代码来制作这个模拟时钟的背景。使用代码<code>&lt;div class = &quot;clock&quot;&gt;&lt;/div&gt;</code>创建这个时钟的结构。我先在CSS代码中给出页面的背景颜色（<code>background: #282828;</code>）。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;div class&#x3D;&quot;clock&quot;&gt;\n\n&lt;&#x2F;div&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">html &#123;\nbackground: #282828;\n  text-align: center;\n  font-size: 10px;\n&#125;\n\nbody &#123;\n  margin: 0;\n  font-size: 2rem;\n  display: flex;\n  flex: 1;\n  min-height: 100vh;\n  align-items: center;\n&#125;\n\n.clock &#123;\n  width: 30rem;\n  height: 30rem;\n  position: relative;\n  padding: 2rem;\n  border: 7px solid #282828;\n  box-shadow: -4px -4px 10px rgba(67,67,67,0.5),\n                inset 4px 4px 10px rgba(0,0,0,0.5),\n                inset -4px -4px 10px rgba(67,67,67,0.5),\n                4px 4px 10px rgba(0,0,0,0.3);\n  border-radius: 50%;\n  margin: 50px auto;\n\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://z3.ax1x.com/2021/08/22/fz6PBV.jpg\"></p>\n<h3 id=\"第2步：在时钟上画两条彩色线条\"><a href=\"#第2步：在时钟上画两条彩色线条\" class=\"headerlink\" title=\"第2步：在时钟上画两条彩色线条\"></a>第2步：在时钟上画两条彩色线条</h3><p>我使用以下<strong>HTML</strong>和<strong>CSS</strong>代码来制作表示时间的符号。首先，使用以下代码制作两条线。并把这两条线放置为相互成90度角。再通过<code>background: #282828</code>使线条更亮。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;div class&#x3D;&quot;outer-clock-face&quot;&gt;\n\n&lt;&#x2F;div&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">.outer-clock-face &#123;\n  position: relative;\n  background: #282828;\n  overflow: hidden;\n  width: 100%;\n  height: 100%;\n  border-radius: 100%;\n&#125;\n\n.outer-clock-face::after &#123;\n  -webkit-transform: rotate(90deg);\n  -moz-transform: rotate(90deg);\n  transform: rotate(90deg)\n&#125;\n\n.outer-clock-face::after,\n.outer-clock-face::before,\n.outer-clock-face .marking&#123;\n  content: &#39;&#39;;\n  position: absolute;\n  width: 5px;\n  height: 100%;\n  background: #1df52f;\n  z-index: 0;\n  left: 49%;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://z3.ax1x.com/2021/08/22/fzcpPe.jpg\"></p>\n<h3 id=\"第3步：再画4条线\"><a href=\"#第3步：再画4条线\" class=\"headerlink\" title=\"第3步：再画4条线\"></a>第3步：再画4条线</h3><p>我使用以下<strong>HTML</strong>和<strong>CSS</strong>代码在这个时钟上又制作了4条线。通过<strong>CSS</strong>代码，我根据需要调整了这些线的角度。我用的是白色，你也可以用其他颜色。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;div class&#x3D;&quot;marking marking-two&quot;&gt;&lt;&#x2F;div&gt;\n&lt;div class&#x3D;&quot;marking marking-three&quot;&gt;&lt;&#x2F;div&gt;\n&lt;div class&#x3D;&quot;marking marking-four&quot;&gt;&lt;&#x2F;div&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-.outer-clock-face\" data-language=\".outer-clock-face\"><div class=\"caption\"><span>.marking &#123;</span></div><code class=\"language-.outer-clock-face\">background: #bdbdcb;\n  width: 3px;\n&#125;\n\n.outer-clock-face .marking.marking-one &#123;\n  -webkit-transform: rotate(30deg);\n  -moz-transform: rotate(30deg);\n  transform: rotate(30deg)\n&#125;\n\n.outer-clock-face .marking.marking-two &#123;\n  -webkit-transform: rotate(60deg);\n  -moz-transform: rotate(60deg);\n  transform: rotate(60deg)\n&#125;\n\n.outer-clock-face .marking.marking-three &#123;\n  -webkit-transform: rotate(120deg);\n  -moz-transform: rotate(120deg);\n  transform: rotate(120deg)\n&#125;\n\n.outer-clock-face .marking.marking-four &#123;\n  -webkit-transform: rotate(150deg);\n  -moz-transform: rotate(150deg);\n  transform: rotate(150deg)\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://z3.ax1x.com/2021/08/22/fzcZa8.jpg\"></p>\n<h3 id=\"第4步：在时钟中间画一个圆圈\"><a href=\"#第4步：在时钟中间画一个圆圈\" class=\"headerlink\" title=\"第4步：在时钟中间画一个圆圈\"></a>第4步：在时钟中间画一个圆圈</h3><p>我在这个钟的中间制作了一个圆圈。这个圆的圆心位于预先绘制的这些线条的交汇处。由此产生的线条作为符号。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;div class&#x3D;&quot;inner-clock-face&quot;&gt;\n\n&lt;&#x2F;div&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-.inner-clock-face\" data-language=\".inner-clock-face\"><div class=\"caption\"><span>&#123;</span></div><code class=\"language-.inner-clock-face\">position: absolute;\n  top: 10%;\n  left: 10%;\n  width: 80%;\n  height: 80%;\n  background: #282828;\n  -webkit-border-radius: 100%;\n  -moz-border-radius: 100%;\n  border-radius: 100%;\n  z-index: 1;\n&#125;\n\n.inner-clock-face::before &#123;\n  content: &#39;&#39;;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  width: 16px;\n  height: 16px;\n  border-radius: 18px;\n  margin-left: -9px;\n  margin-top: -6px;\n  background: #4d4b63;\n  z-index: 11;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://z3.ax1x.com/2021/08/22/fzc3q0.jpg\"></p>\n<h3 id=\"第5步：制作时钟的3个指针\"><a href=\"#第5步：制作时钟的3个指针\" class=\"headerlink\" title=\"第5步：制作时钟的3个指针\"></a>第5步：制作时钟的3个指针</h3><p>和普通的模拟时钟一样，我用3个指针来表示小时、分钟和秒。我使用以下HTML和CSS代码创建和设计指针。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">&lt;div class&#x3D;&quot;hand min-hand&quot;&gt;&lt;&#x2F;div&gt;\n&lt;div class&#x3D;&quot;hand second-hand&quot;&gt;&lt;&#x2F;div&gt;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-.hand\" data-language=\".hand\"><div class=\"caption\"><span>&#123;</span></div><code class=\"language-.hand\">width: 50%;\n  right: 50%;\n  height: 6px;\n  background: #61afff;\n  position: absolute;\n  top: 50%;\n  border-radius: 6px;\n  transform-origin: 100%;\n  transform: rotate(90deg);\n  transition-timing-function: cubic-bezier(0.1, 2.7, 0.58, 1);\n&#125;\n\n.hand.hour-hand &#123;\n  width: 30%;\n  z-index: 3;\n&#125;\n\n.hand.min-hand &#123;\n  height: 3px;\n  z-index: 10;\n  width: 40%;\n&#125;\n\n.hand.second-hand &#123;\n  background: #ee791a;\n  width: 45%;\n  height: 2px;\n&#125;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><img src=\"https://z3.ax1x.com/2021/08/22/fzcJaT.jpg\"></p>\n<h3 id=\"第6步：用JavaScript代码激活模拟时钟\"><a href=\"#第6步：用JavaScript代码激活模拟时钟\" class=\"headerlink\" title=\"第6步：用JavaScript代码激活模拟时钟\"></a>第6步：用JavaScript代码激活模拟时钟</h3><p>到现在为止，我们已经完成了时钟的设计工作。现在我们将在JavaScript的帮助下实现这个模拟时钟。这里我没有使用任何插件或JavaScript库。我只是使用JavaScript让指针运动起来。即使你是初学者，也可以理解这样的设计。我在每段代码下面对为什么我要这样使用代码给出了完整的解释。</p>\n<p>我们将使用<code>querySelector()</code>获取以下内容的引用：</p>\n<p>➤<code>.second-hand ➤</code>.min-hand<code>➤</code>.hour-hand</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const secondHand &#x3D; document.querySelector(&#39;.second-hand&#39;);\nconst minsHand &#x3D; document.querySelector(&#39;.min-hand&#39;);\nconst hourHand &#x3D; document.querySelector(&#39;.hour-hand&#39;);<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">function setDate() &#123;\nconst now &#x3D; new Date();<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p>➤ <code>new Date()</code>创建了<code>Date</code>类的实例，然后我们可以从中获取各种信息，例如当前日期、小时、分钟、秒等。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const seconds &#x3D; now.getSeconds();\nconst secondsDegrees &#x3D; ((seconds &#x2F; 60) * 360) + 90;\nsecondHand.style.transform &#x3D; &#96;rotate($&#123;secondsDegrees&#125;deg)&#96;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>➤ 将秒针如何旋转存储在<code>secondsDegrees</code>中。</p>\n<p>➤ 然后使用<code>rotate($&#123;secondsDegrees&#125;deg)</code>旋转秒针。</p>\n<p>➤ 除以60，因为1分钟等于60秒。</p>\n<p>➤ 乘以360，因为圆由360度构成。</p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const mins &#x3D; now.getMinutes();\nconst minsDegrees &#x3D; ((mins &#x2F; 60) * 360) + ((seconds&#x2F;60)*6) + 90;\nminsHand.style.transform &#x3D; &#96;rotate($&#123;minsDegrees&#125;deg)&#96;;<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">setInterval(setDate, 1000);\n\nsetDate();<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre>\n\n<p>➤ 我们需要每1秒（1000 milliseconds）调用一次<code>rotate()</code>函数。<br><img src=\"https://z3.ax1x.com/2021/08/22/fzRVVx.jpg\"><br><strong>最终的Javascript代码</strong></p>\n<pre class=\"line-numbers language-none\"><code class=\"language-none\">const secondHand &#x3D; document.querySelector(&#39;.second-hand&#39;);\nconst minsHand &#x3D; document.querySelector(&#39;.min-hand&#39;);\nconst hourHand &#x3D; document.querySelector(&#39;.hour-hand&#39;);\n\n function setDate() &#123;\n  const now &#x3D; new Date();\n\n  const seconds &#x3D; now.getSeconds();\n  const secondsDegrees &#x3D; ((seconds &#x2F; 60) * 360) + 90;\n  secondHand.style.transform &#x3D; &#96;rotate($&#123;secondsDegrees&#125;deg)&#96;;\n\n  const mins &#x3D; now.getMinutes();\n  const minsDegrees &#x3D; ((mins &#x2F; 60) * 360) + ((seconds&#x2F;60)*6) + 90;\n  minsHand.style.transform &#x3D; &#96;rotate($&#123;minsDegrees&#125;deg)&#96;;\n\n  const hour &#x3D; now.getHours();\n  const hourDegrees &#x3D; ((hour &#x2F; 12) * 360) + ((mins&#x2F;60)*30) + 90;\n  hourHand.style.transform &#x3D; &#96;rotate($&#123;hourDegrees&#125;deg)&#96;;\n&#125;\n\nsetInterval(setDate, 1000);\n\nsetDate();<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>你学会如何制作这款模拟时钟了吗？自己亲自试一试吧！</p>\n","text":"如何使用HTML、CSS和JavaScript代码制作模拟时钟这一款的形状采用黑色新拟物风格设计。用三个指针来表示小时、分钟和秒。此时钟盘面使用了符号而不是1到12的数字。 在我使用了新拟物风格设计制作之后，时钟的背景和页面的背景我也使用了相同的颜色。首先，我在网页上制作一个30...","link":"","photos":[],"count_time":{"symbolsCount":"6k","symbolsTime":"5 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":2,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":2,"path":"api/tags/JavaScript.json"},{"name":"程序设计","slug":"程序设计","count":1,"path":"api/tags/程序设计.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC1%E6%AD%A5%EF%BC%9A%E8%AE%BE%E8%AE%A1%E5%92%8C%E5%88%9B%E5%BB%BA%E6%97%B6%E9%92%9F%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">第1步：设计和创建时钟的基本结构</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC2%E6%AD%A5%EF%BC%9A%E5%9C%A8%E6%97%B6%E9%92%9F%E4%B8%8A%E7%94%BB%E4%B8%A4%E6%9D%A1%E5%BD%A9%E8%89%B2%E7%BA%BF%E6%9D%A1\"><span class=\"toc-text\">第2步：在时钟上画两条彩色线条</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC3%E6%AD%A5%EF%BC%9A%E5%86%8D%E7%94%BB4%E6%9D%A1%E7%BA%BF\"><span class=\"toc-text\">第3步：再画4条线</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC4%E6%AD%A5%EF%BC%9A%E5%9C%A8%E6%97%B6%E9%92%9F%E4%B8%AD%E9%97%B4%E7%94%BB%E4%B8%80%E4%B8%AA%E5%9C%86%E5%9C%88\"><span class=\"toc-text\">第4步：在时钟中间画一个圆圈</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC5%E6%AD%A5%EF%BC%9A%E5%88%B6%E4%BD%9C%E6%97%B6%E9%92%9F%E7%9A%843%E4%B8%AA%E6%8C%87%E9%92%88\"><span class=\"toc-text\">第5步：制作时钟的3个指针</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%AC%AC6%E6%AD%A5%EF%BC%9A%E7%94%A8JavaScript%E4%BB%A3%E7%A0%81%E6%BF%80%E6%B4%BB%E6%A8%A1%E6%8B%9F%E6%97%B6%E9%92%9F\"><span class=\"toc-text\">第6步：用JavaScript代码激活模拟时钟</span></a></li></ol>","author":{"name":"XSTAR","slug":"blog-author","avatar":"https://s4.ax1x.com/2022/01/15/7JGwhF.jpg","link":"/","description":"正在创作一切未来","socials":{"github":"https://github.com/oygs","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"QQ打开链接跳转浏览器代码","uid":"e1b188692a0e965deb1f209ed53dc1ad","slug":"打开链接跳转浏览器代码","date":"2021-10-06T10:11:00.000Z","updated":"2021-12-17T10:13:54.000Z","comments":true,"path":"api/articles/打开链接跳转浏览器代码.json","keywords":null,"cover":"https://s4.ax1x.com/2022/01/18/70XklD.png","text":"使用方法将代码全部复制 粘贴到 网站根目录下index.php文件的顶端注意：不要覆盖了 index.php里面的原代码，原代码保留(请尽快把样式以及图片本地化，以防失效) 使用说明：手机QQ内打开，会自动跳转浏览器；微信内打开，需用用户手动跳转；用户可选择对应浏览器；用户可手动...","link":"","photos":[],"count_time":{"symbolsCount":"8.5k","symbolsTime":"8 mins."},"categories":[{"name":"博客相关","slug":"博客相关","count":6,"path":"api/categories/博客相关.json"}],"tags":[{"name":"博客优化","slug":"博客优化","count":2,"path":"api/tags/博客优化.json"}],"author":{"name":"XSTAR","slug":"blog-author","avatar":"https://s4.ax1x.com/2022/01/15/7JGwhF.jpg","link":"/","description":"正在创作一切未来","socials":{"github":"https://github.com/oygs","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"11 个 JavaScript 单行代码技巧","uid":"d6d6a7d81f75ad96a8fb728f1eea1f5d","slug":"11个JavaScript单行代码技巧","date":"2021-09-21T09:51:00.000Z","updated":"2021-12-17T09:54:03.000Z","comments":true,"path":"api/articles/11个JavaScript单行代码技巧.json","keywords":null,"cover":"https://s4.ax1x.com/2022/01/18/70HjaV.png","text":"前言美总是简单和谐的，代码也是一样 用简单的逻辑和尽可能少的代码来解决一个复杂的问题。随着 ES6 箭头函数的引入，可以创建看起来优雅和简单的单行代码。 给大家分享 11 个 JavaScript 单行代码技巧 1、获取字符串中的字符数 获取字符数是一个有用的实用程序，在许多情况...","link":"","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"学习笔记","slug":"学习笔记","count":2,"path":"api/categories/学习笔记.json"}],"tags":[{"name":"JavaScript","slug":"JavaScript","count":2,"path":"api/tags/JavaScript.json"},{"name":"代码优化","slug":"代码优化","count":2,"path":"api/tags/代码优化.json"}],"author":{"name":"XSTAR","slug":"blog-author","avatar":"https://s4.ax1x.com/2022/01/15/7JGwhF.jpg","link":"/","description":"正在创作一切未来","socials":{"github":"https://github.com/oygs","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}